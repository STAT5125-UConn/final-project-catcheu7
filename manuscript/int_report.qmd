---
title: Interim Report
author: Catherine Cheu
date: April 13, 2023
embed-resources: true
jupyter: python3
---

# Introduction

# Methods

## Data Acquisition

All diabetes incidence rates are obtained from the CDC site. The map is obtained through open source in Kaggle.

# Results

## Animation

```{python}
import geopandas, pandas, matplotlib, numpy, csv, glob, shapely, sklearn
from matplotlib import rc
from matplotlib.animation import FuncAnimation
import matplotlib.pyplot as plt

rc('animation', html = 'jshtml')

files = glob.glob("../data/*.csv")
pdfs = []

for a in range(0,len(files)):
	b = pandas.read_csv(files[a], skiprows = 2)
	pdfs.append(b)

geous = geopandas.read_file("../data/us-states.json").rename(columns = {'name':'State'})

figure, [[ax,ax2], [ax3,ax4]] = plt.subplots(2,2)

cbar = plt.cm.ScalarMappable(cmap = 'cool', norm = plt.Normalize(vmin = 7, vmax = 14))

plt.colorbar(cbar)

def up(z):
	gm = geous.merge(pdfs[z], on = 'State')
	akg = gm[gm['State'].isin(['Alaska'])]
	akg.plot(column = 'Percentage', cmap = 'cool', ax = ax2)
	akg.plot(column = 'Percentage', cmap = 'cool', ax = ax5)

	akg.plot(column = 'Percentage', cmap = 'cool', ax = ax8)
	akg.plot(column = 'Percentage', cmap = 'cool', ax = ax11)
	cont = gm[~gm['State'].isin(['Alaska', 'Hawaii'])]
	cont.plot(column = 'Percentage', cmap = 'cool', ax = ax)

	cont.plot(column = 'Percentage', cmap = 'cool', ax = ax4)
	cont.plot(column = 'Percentage', cmap = 'cool', ax = ax7)
	cont.plot(column = 'Percentage', cmap = 'cool', ax = ax10)

anim = FuncAnimation(figure, up, frames = 10, interval = 1000)
plt.close()

anim
```